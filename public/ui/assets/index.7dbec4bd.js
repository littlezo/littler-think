import{Spin as e}from"ant-design-vue";import{p as n,c as t,ab as a}from"./index.85303d5a.js";import{u as s}from"./useWindowSizeFn.1b287cdc.js";import{A as r,r as i,j as o,X as c,u as l,Y as p,Z as f,F as d,G as m,x as u,L as g}from"./vendor.ecc5e6ce.js";var v=r({name:"IFrame",components:{Spin:e},props:{frameSrc:n.string.def("")},setup(){const e=i(!1),n=i(50),r=i(window.innerHeight),f=i(null),{prefixCls:d}=t("iframe-page");s(u,150,{immediate:!0});const m=o((()=>({height:`${l(r)}px`})));function u(){const e=l(f);if(!e)return;let{top:t}=a(e);t+=20,n.value=t,r.value=window.innerHeight-t;const s=document.documentElement.clientHeight-t;e.style.height=`${s}px`}function g(){e.value=!1,u()}return c((()=>{e.value=!0,p((()=>{const e=l(f);if(!e)return;const n=e;n.attachEvent?n.attachEvent("onload",(()=>{g()})):e.onload=()=>{g()}}))})),{getWrapStyle:m,loading:e,frameRef:f,prefixCls:d}}});const h=g(),x=h(((e,n,t,a,s,r)=>{const i=f("Spin");return d(),m("div",{class:e.prefixCls,style:e.getWrapStyle},[u(i,{spinning:e.loading,size:"large",style:e.getWrapStyle},{default:h((()=>[u("iframe",{src:e.frameSrc,class:`${e.prefixCls}__main`,ref:"frameRef"},null,10,["src"])])),_:1},8,["spinning","style"])],6)}));v.render=x,v.__scopeId="data-v-0c15c6d8";export{v as default};
