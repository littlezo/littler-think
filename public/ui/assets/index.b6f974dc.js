import{F as e,p as o,c as t,f as s,e as a,o as r}from"./index.85303d5a.js";import{Dropdown as n,Menu as i}from"ant-design-vue";import{D as c}from"./siteSetting.ff999d0a.js";import{c as l,u as d}from"./index.1d4c72ce.js";import{u as p}from"./index.0f139360.js";import{h as u}from"./header.d801b988.js";import{A as m,j as f,Z as g,F as k,G as x,x as _,a1 as h,a6 as j,K as w,a5 as C}from"./vendor.ecc5e6ce.js";import"./index.7dbec4bd.js";import"./useWindowSizeFn.1b287cdc.js";import"./useContentViewHeight.a7e7747f.js";import"./useSortable.6200a744.js";import"./lock.5b15327c.js";import"./useAttrs.b84cef3f.js";var D=m({name:"UserDropdown",components:{Dropdown:n,Menu:i,MenuItem:l((()=>e((()=>import("./DropMenuItem.c9fc0d4b.js")),["/ui/assets/DropMenuItem.c9fc0d4b.js","/ui/assets/index.85303d5a.js","/ui/assets/index.c117b7f0.css","/ui/assets/vendor.ecc5e6ce.js"]))),MenuDivider:i.Divider,LockAction:l((()=>e((()=>import("./LockModal.d91cf810.js")),["/ui/assets/LockModal.d91cf810.js","/ui/assets/LockModal.baf8edb0.css","/ui/assets/index.85303d5a.js","/ui/assets/index.c117b7f0.css","/ui/assets/vendor.ecc5e6ce.js","/ui/assets/index.0f139360.js","/ui/assets/index.a400d262.css","/ui/assets/useAttrs.b84cef3f.js","/ui/assets/useWindowSizeFn.1b287cdc.js","/ui/assets/useForm.137eb3b0.js","/ui/assets/useForm.e79ec3a3.css","/ui/assets/index.c389a080.js","/ui/assets/index.37b2c5cd.css","/ui/assets/index.5c4cad53.js","/ui/assets/download.8120b7a2.js","/ui/assets/index.241dae1f.js","/ui/assets/index.f6030fea.css","/ui/assets/lock.5b15327c.js","/ui/assets/header.d801b988.js"])))},props:{theme:o.oneOf(["dark","light"])},setup(){const{prefixCls:e}=t("header-user-dropdown"),{t:o}=a(),{getShowDoc:n,getUseLockPage:i}=d(),l=s(),m=f((()=>{const{real_name:e="",avatar:o,desc:t}=l.getUserInfo||{};return{real_name:e,avatar:o||u,desc:t}})),[g,{openModal:k}]=p();return{prefixCls:e,t:o,getUserInfo:m,handleMenuClick:function(e){switch(e.key){case"logout":l.confirmLoginOut();break;case"doc":r(c);break;case"lock":k(!0)}},getShowDoc:n,register:g,getUseLockPage:i}}});D.render=function(e,o,t,s,a,r){const n=g("MenuItem"),i=g("MenuDivider"),c=g("Menu"),l=g("Dropdown"),d=g("LockAction");return k(),x(C,null,[_(l,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:h((()=>[_(c,{onClick:e.handleMenuClick},{default:h((()=>[e.getShowDoc?(k(),x(n,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):j("",!0),e.getShowDoc?(k(),x(i,{key:1})):j("",!0),e.getUseLockPage?(k(),x(n,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):j("",!0),_(n,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])])),_:1},8,["onClick"])])),default:h((()=>[_("span",{class:[[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"]},[_("img",{class:`${e.prefixCls}__header`,src:e.getUserInfo.avatar},null,10,["src"]),_("span",{class:`${e.prefixCls}__info hidden md:block`},[_("span",{class:[`${e.prefixCls}__name  `,"truncate"]},w(e.getUserInfo.real_name),3)],2)],2)])),_:1},8,["overlayClassName"]),_(d,{onRegister:e.register},null,8,["onRegister"])],64)};export{D as default};
