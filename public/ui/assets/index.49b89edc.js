import{aG as t,aH as e,aI as a,aJ as n,aB as r}from"./index.85303d5a.js";import{r as s,b9 as o,u as i,ad as l,aa as c,A as d,Z as u,F as m,G as p,a1 as f,x as h,a7 as g}from"./vendor.ecc5e6ce.js";import{P as x}from"./index.94fd9752.js";import"ant-design-vue";import"./onMountedOrActivated.6e7c6753.js";import"./useWindowSizeFn.1b287cdc.js";import"./useContentViewHeight.a7e7747f.js";const y=Symbol("watermark-dom");function w(r=s(document.body)){const d=a((function(){const t=i(r);if(!t)return;const{clientHeight:e,clientWidth:a}=t;f({height:e,width:a})})),u=y.toString(),m=o(),p=()=>{const e=i(m);m.value=void 0;const a=i(r);a&&(e&&a.removeChild(e),t(a,d))};function f(t={}){const e=i(m);e&&(n(t.width)&&(e.style.width=`${t.width}px`),n(t.height)&&(e.style.height=`${t.height}px`),n(t.str)&&(e.style.background=`url(${function(t){const e=document.createElement("canvas");Object.assign(e,{width:300,height:240});const a=e.getContext("2d");return a&&(a.rotate(-20*Math.PI/120),a.font="15px Vedana",a.fillStyle="rgba(0, 0, 0, 0.15)",a.textAlign="left",a.textBaseline="middle",a.fillText(t,15,240)),e.toDataURL("image/png")}(t.str)}) left top repeat`))}return{setWatermark:function(t){(t=>{if(i(m))return f({str:t}),u;const e=document.createElement("div");m.value=e,e.id=u,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const a=i(r);if(!a)return u;const{clientHeight:n,clientWidth:s}=a;f({str:t,width:s,height:n}),a.appendChild(e)})(t),e(document.documentElement,d),c()&&l((()=>{p()}))},clear:p}}var C=d({components:{CollapseContainer:r,PageWrapper:x},setup(){const t=s(null),{setWatermark:e,clear:a}=w();return{setWatermark:e,clear:a,areaRef:t}}});const k=g(" 开启公司版权水印 "),v=g(" 开启公司 开发者版权水印 "),b=g(" 关闭 ");C.render=function(t,e,a,n,r,s){const o=u("a-button"),i=u("CollapseContainer"),l=u("PageWrapper");return m(),p(l,{title:"版权水印"},{default:f((()=>[h(i,{class:"w-full h-32 bg-white rounded-md",title:"版权水印"},{default:f((()=>[h(o,{type:"primary",class:"mr-2",onClick:e[1]||(e[1]=e=>t.setWatermark("翌宸志信 版权所有"))},{default:f((()=>[k])),_:1}),h(o,{color:"warning",class:"mr-2",onClick:e[2]||(e[2]=e=>t.setWatermark("翌宸志信 @小小只 版权所有"))},{default:f((()=>[v])),_:1}),h(o,{color:"error",class:"mr-2",onClick:t.clear},{default:f((()=>[b])),_:1},8,["onClick"])])),_:1})])),_:1})};export{C as default};
