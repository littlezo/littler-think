import{_ as e}from"./TableImg.e17cc06a.js";import{_ as a}from"./useForm.9f758c80.js";import{u as s}from"./useTable.a77db7eb.js";import{g as t}from"./index.7b0adf1e.js";import{u as o}from"./index.8bc7383a.js";import{_ as i,c as n,s as r}from"./AccessDrawer.9ba57632.js";import{D as d,az as c,aA as l,F as m,G as u,a0 as p,H as f,J as b,z as j,a9 as x,aq as g,aw as h,ab as w,N as _,O as C}from"./vendor.2a694682.js";import{ae as D}from"./index.886fff71.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useWindowSizeFn.ba9c561c.js";import"./index.6f230b74.js";import"./useAttrs.c83a264c.js";import"./onMountedOrActivated.1cc20755.js";/* empty css              */import"./useSortable.a0d70131.js";/* empty css              *//* empty css              *//* empty css              */import"./index.159369ef.js";import"./index.08924b52.js";import"./download.24e74597.js";import"./index.52577703.js";/* empty css              */var k=d({name:"AccessManagement",components:{BasicTable:e,AccessDrawer:i,TableAction:a,Dropdown:c,Menu:l,MenuItem:l.Item},setup(){const[e,{openDrawer:a}]=o(),[i,{reload:d}]=s({title:"菜单列表",api:t,columns:n,formConfig:{labelWidth:120,schemas:r},pagination:!1,searchInfo:{order:"ascend"},striped:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:80,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}});function c(){d()}return{registerTable:i,registerDrawer:e,handleCreate:function(){a(!0,{isUpdate:!1})},handleEdit:function(e){a(!0,{record:e,isUpdate:!0})},handleDelete:function(e){D("delete","/user/access/"+e.id).then((e=>{c()}))},handleSuccess:c}}});const v=C();m("data-v-492dc022");const y=w(" 新增菜单 "),A=w(" 修改 "),T=w(" 删除 ");u();const I=v(((e,a,s,t,o,i)=>{const n=p("a-button"),r=p("MenuItem"),d=p("Menu"),c=p("Dropdown"),l=p("TableAction"),m=p("BasicTable"),u=p("AccessDrawer");return f(),b("div",null,[j(m,{onRegister:e.registerTable},{toolbar:v((()=>[j(n,{type:"primary",onClick:e.handleCreate},{default:v((()=>[y])),_:1},8,["onClick"])])),button:v((({record:s})=>[(f(!0),b(x,null,g(s.action,(s=>(f(),b("div",{class:"dropdown-wrap",key:s.id},[j(c,{trigger:["click"]},{overlay:v((()=>[j(d,null,{default:v((()=>[j(r,{key:"update"},{default:v((()=>[j(n,{type:"primary",size:"small",onClick:a=>e.handleEdit(s)},{default:v((()=>[A])),_:2},1032,["onClick"])])),_:2},1024),j(r,{key:"delete"},{default:v((()=>[j(n,{size:"small",color:"error"},{default:v((()=>[T])),_:1})])),_:1})])),_:2},1024)])),default:v((()=>[j(n,{color:"success",size:"small",onClick:a[1]||(a[1]=h((()=>{}),["prevent"]))},{default:v((()=>[w(_(s.title),1)])),_:2},1024)])),_:2},1024)])))),128))])),action:v((({record:a})=>[j(l,{actions:[{icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,a)},{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,a)}}]},null,8,["actions"])])),_:1},8,["onRegister"]),j(u,{onRegister:e.registerDrawer,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])}));k.render=I,k.__scopeId="data-v-492dc022";export{k as default};
